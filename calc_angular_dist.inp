######################################
#                                    #
# An input file to calculate and     #
# save the angular distribution of   #
# the long and short axes of a       #
# pentacene system.                  #
######################################

# Set some filepath variables
#folder = "/scratch/mellis/Full_Lammps_Run_10ns_Quench/xyz_md/"
folder = "/scratch/mellis/Full_Lammps_Run_10ps_Quench_iso/xyz_md"



###########
# Crystal #
###########

filepath = "$folder/snapshot0.dat"

# Read data from a Lammps snapshot
load $filepath lammps_dump as data_crystal

# Tell the code we are using pentacene
#  and give some other paramaters
set system data_crystal to pentacene
data_crystal['long_axis_atoms'] = 8, 25
data_crystal['short_axis_atoms'] = 18, 0

# Calculate the angular distribution
calc angular_dist from data_crystal as ang_dist_crystal

# Write the angular distribution as a json file
write ang_dist_crystal "ang_dist_crystal.json" as json




#############
# Amorphous #
#############

filepath = "$folder/snapshot995000.dat"
echo $filepath
# Read data from a Lammps snapshot
load $filepath lammps_dump as data_amorphous

# Tell the code we are using pentacene
#  and give some other paramaters
set system data_amorphous to pentacene
data_amorphous['long_axis_atoms'] = 8, 25
data_amorphous['short_axis_atoms'] = 8, 25

# Calculate the angular distribution
calc angular_dist from data_amorphous as ang_dist_amorphous

# Write the angular distribution as a json file
write ang_dist_amorphous "ang_dist_amorphous.json" as json


shell

data_amorphous['coordinate_wrapping'] = "wrapped"
write data_amorphous "amorphous.xyz" as xyz
data_amorphous['coordinate_wrapping'] = "unwrapped"
write data_amorphous "amorphous_unwrapped.xyz" as xyz
